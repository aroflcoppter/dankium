From f8a097bae89fd724261b2d852c10f4d22becdb30 Mon Sep 17 00:00:00 2001
From: aroflcoppter <contact@dankium.ca>
Date: Wed, 4 Jun 2025 13:33:13 -0230
Subject: [PATCH 6/6] Disable fetching variations on android

---
 .../chromium/chrome/browser/init/AsyncInitTaskRunner.java   | 6 +++++-
 .../service/variations_field_trial_creator_base.cc          | 1 -
 2 files changed, 5 insertions(+), 2 deletions(-)

diff --git a/chrome/android/java/src/org/chromium/chrome/browser/init/AsyncInitTaskRunner.java b/chrome/android/java/src/org/chromium/chrome/browser/init/AsyncInitTaskRunner.java
index 56c7d503f3fed..7ee30e848e7e7 100644
--- a/chrome/android/java/src/org/chromium/chrome/browser/init/AsyncInitTaskRunner.java
+++ b/chrome/android/java/src/org/chromium/chrome/browser/init/AsyncInitTaskRunner.java
@@ -39,7 +39,11 @@ public abstract class AsyncInitTaskRunner {
 
     @VisibleForTesting
     boolean shouldFetchVariationsSeedDuringFirstRun() {
-        return VersionInfo.isOfficialBuild();
+        if (true) {
+          return false;
+        } else {
+          return true;
+        }
     }
 
     @VisibleForTesting
diff --git a/components/variations/service/variations_field_trial_creator_base.cc b/components/variations/service/variations_field_trial_creator_base.cc
index 49902902081c5..d5b5fb349017b 100644
--- a/components/variations/service/variations_field_trial_creator_base.cc
+++ b/components/variations/service/variations_field_trial_creator_base.cc
@@ -303,7 +303,6 @@ bool VariationsFieldTrialCreatorBase::SetUpFieldTrials(
   // instance is set.
   feature_list->RegisterExtraFeatureOverrides(extra_overrides);
 
-  bool used_testing_config = false;
   // TODO(crbug.com/40230862): Remove this code path.
 #if BUILDFLAG(FIELDTRIAL_TESTING_ENABLED)
   if (ShouldUseFieldTrialTestingConfig(command_line)) {
-- 
2.43.0


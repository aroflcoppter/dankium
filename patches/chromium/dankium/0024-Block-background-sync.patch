From d554ada858acfb1b9cd297c31fcd43f928128407 Mon Sep 17 00:00:00 2001
From: aroflcoppter <contact@dankium.ca>
Date: Wed, 4 Jun 2025 23:47:58 -0230
Subject: [PATCH 1/3] Block background sync

---
 .../core/browser/content_settings_registry.cc                 | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/components/content_settings/core/browser/content_settings_registry.cc b/components/content_settings/core/browser/content_settings_registry.cc
index 20e44439d566d..bae43002e9289 100644
--- a/components/content_settings/core/browser/content_settings_registry.cc
+++ b/components/content_settings/core/browser/content_settings_registry.cc
@@ -239,8 +239,8 @@ void ContentSettingsRegistry::Init() {
            ContentSettingsInfo::EXCEPTIONS_ON_SECURE_ORIGINS_ONLY);
 
   Register(ContentSettingsType::BACKGROUND_SYNC, "background-sync",
-           CONTENT_SETTING_ALLOW, WebsiteSettingsInfo::UNSYNCABLE,
-           /*allowlisted_primary_schemes=*/{},
+           const ContentSetting kDefaultBackgroundSyncSetting = CONTENT_SETTING_BLOCK;
+           kDefaultBackgroundSyncSetting, WebsiteSettingsInfo::UNSYNCABLE,           /*allowlisted_primary_schemes=*/{},
            /*valid_settings=*/{CONTENT_SETTING_ALLOW, CONTENT_SETTING_BLOCK},
            WebsiteSettingsInfo::TOP_ORIGIN_ONLY_SCOPE,
            WebsiteSettingsRegistry::DESKTOP |
-- 
2.43.0

